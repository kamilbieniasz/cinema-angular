<section class="orderWrapper" *ngIf="movie">
    <div class="gridContainer">
        <span class="screenContainer">
            <iframe class="screen" [src]="movie.trailer | safe: 'resourceUrl'" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </span>
        <p *ngIf="errorMessage">{{errorMessage}}</p>
        <ul>
            <li *ngFor="let place of places; let i=index;"
                class="place"
                (click)="selectedItem(i)" 
                [disabled]="place.free === false"
                data-status={{place.free}}
                #place>
                {{i + 1}}
            </li>
        </ul>
    </div>
    <div class="orderInfo">
        <h1 class="title"><strong>{{movie.title}}</strong></h1><br>
        <h2 class="time">{{selectedTime}}</h2>
        <h3>Informacje o zamówieniu:</h3>
        <p>Data: {{currentDay | date:"dd.MM.yyyy"}},</p>
        <p>Godzina: {{selectedTime}},</p>
        <span class="placesContainer"><p>Miejsca:</p>
        <p *ngFor="let selectedPlace of selectedPlaces" class="selectedPlace"> {{selectedPlace.number}}, </p></span>
        <p>Cena: {{price}} zł</p>
        <button class="orderBtn" (click)="patchItem()">Zatwierdź zamówienie</button>
        <div class="legend">
            <span class="legendPlaceContainer"><span class="place free"></span><p>- Wolne stanowisko</p></span>
            <span class="legendPlaceContainer"><span class="place selected"></span><p>- Zajęte stanowisko</p></span>
            <span class="legendPlaceContainer"><span class="place taken"></span><p>- Zaznaczone stanowisko</p></span>
        </div>
    </div>
</section>
